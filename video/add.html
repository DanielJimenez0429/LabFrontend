<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adicionar Nota</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h2 class="mb-4">Adicionar Nota</h2>
    <form id="add-form" class="bg-white p-4 rounded shadow-sm">
        <div class="mb-3">
            <label for="codigo" class="form-label">Código:</label>
            <input type="text" id="codigo" name="codigo" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="titulo" class="form-label">Título:</label>
            <input type="text" id="titulo" name="titulo" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="descripcion" class="form-label">Descripcion:</label>
            <input type="text" id="descripcion" name="descripcion" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="duracion" class="form-label">Duracion:</label>
            <input type="text" id="duracion" name="duracion" class="form-control" required>
        </div>
        <button type="button" class="btn btn-primary" onclick="add()">Guardar</button>
    </form>
    <a href="../index.html" class="btn btn-link mt-3">Volver al inicio</a>
</div>

<script>
    function add() {
        const xmlhttp = new XMLHttpRequest();
        xmlhttp.open("POST", "http://localhost:8080/videos", true);
        xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

        var codigo = document.getElementById("codigo");
        var titulo = document.getElementById("titulo");
        var descripcion = document.getElementById("descripcion");
        var duracion = document.getElementById("duracion");

        var newVideo = {
            "codigo": codigo.value,
            "titulo": titulo.value,
            "descripcion": descripcion.value,
            "duracion": duracion.value
        };

        console.log("Adding video:" + JSON.stringify(newVideo));
        xmlhttp.send(JSON.stringify(newVideo));
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

